/*

-------------- ???????? --------------
trim????:                         trim() lTrim() rTrim()
??????????????????:                 checkIsNotEmpty(str)
????????????????????:               checkIsInteger(str)
??????????????:                    checkIntegerMinValue(str,val)
??????????????:                    checkIntegerMaxValue(str,val) 
????????????????????:               isNotNegativeInteger(str)
??????????????????????:             checkIsDouble(str) 
????????????????:                  checkDoubleMinValue(str,val)
????????????????:                  checkDoubleMaxValue(str,val)
??????????????????????:             isNotNegativeDouble(str)
??????????????????????:             checkIsValidDate(str)
??????????????????:                checkDateEarlier(strStart,strEnd)
????????????????email??:           checkEmail(str)
??????????????????????????				 checkIDNo(str)

????????????????????:               checkIsChinese(str)
??????????????????????????????????:   realLength()
??????????????????????????????????:   checkMask(str,pat)
????????????????:                   getFilePostfix(oFile)  
-------------- ???????? --------------
*/

/**
* added by LxcJie 2004.6.25
* ????????????????
* trim:???????????? lTrim:?????????? rTrim: ??????????
* ??????
*     var str = "  hello ";
*     str = str.trim();
*/
String.prototype.trim = function()
{
    return this.replace(/(^[\\s]*)|([\\s]*$)/g, "");
}
String.prototype.lTrim = function()
{
    return this.replace(/(^[\\s]*)/g, "");
}
String.prototype.rTrim = function()
{
    return this.replace(/([\\s]*$)/g, "");
}
/********************************** Empty **************************************/
/**
*??????????????????
*????????
*??????????????????????????????true
*??????????????????????????false               ??????????????????????????????
*/
function checkIsNotEmpty(str)
{
    if(str.trim() == "")
        return false;
    else
        return true;
}//~~~
/*--------------------------------- Empty --------------------------------------*/
/********************************** Integer *************************************/
/**
*????????????????????
*????????
*????????????????????????      ????true
*??????????????????????????????????true
*????????????????              ????false     ????????????????????????????????
*/
function checkIsInteger(str)
{
    //????????????????????
    if(str == "")
        return true;
    if(/^(\-?)(\d+)$/.test(str))
        return true;
    else
        return false;
}//~~~
/**
*??????????????
*str??????????????  val??????????
*
*????????
*????????????????????????                ????true
*????????????????????????????????????????????true
*????????????????                        ????false              ????????????????????????????????????
*/
function checkIntegerMinValue(str,val)
{
    //????????????????????
    if(str == "")
        return true;
    if(typeof(val) != "string")
        val = val + "";
    if(checkIsInteger(str) == true)
    {
        if(parseInt(str,10)>=parseInt(val,10))
            return true;
        else
            return false;
    }
    else
        return false;
}//~~~
/**
*??????????????
*str??????????????  val??????????
*
*????????
*????????????????????????                ????true
*????????????????????????????????????????????true
*????????????????                        ????false       ????????????????????????????????????
*/
function checkIntegerMaxValue(str,val)
{
    //????????????????????
    if(str == "")
        return true;
    if(typeof(val) != "string")
        val = val + "";
    if(checkIsInteger(str) == true)
    {
        if(parseInt(str,10)<=parseInt(val,10))
            return true;
        else
            return false;
    }
    else
        return false;
}//~~~
/**
*????????????????????
*str??????????????
*
*????????
*????????????????????????????true
*????????????            ????true
*????????????            ????false               ????????????????????????????????
*/
function isNotNegativeInteger(str)
{
    //????????????????????
    if(str == "")
        return true;
    if(checkIsInteger(str) == true)
    {
        if(parseInt(str,10) < 0)
            return false;
        else
            return true;
    }
    else
        return false;
}//~~~
/*--------------------------------- Integer --------------------------------------*/
/********************************** Double ****************************************/
/**
*??????????????????????
*????????
*????????????????????????      ????true
*????????????????????????????  ????true
*????????????????              ????false     ??????????????????????????????????????
*/
function checkIsDouble(str)
{
    //????????????????????
    if(str == "")
        return true;
    //??????????????????????????????
    if(str.indexOf(".") == -1)
    {
        if(checkIsInteger(str) == true)
            return true;
        else
            return false;
    }
    else
    {
        if(/^(\\-?)(\\d+)(.{1})(\\d+)$/g.test(str))
            return true;
        else
            return false;
    }
}//~~~
/**
*????????????????
*str??????????????  val??????????
*
*????????
*????????????????????????                ????true
*????????????????????????????????????????????true
*????????????????                        ????false              ????????????????????????????????????
*/
function checkDoubleMinValue(str,val)
{
    //????????????????????
    if(str == "")
        return true;
    if(typeof(val) != "string")
        val = val + "";
    if(checkIsDouble(str) == true)
    {
        if(parseFloat(str)>=parseFloat(val))
            return true;
        else
            return false;
    }
    else
        return false;
}//~~~
/**
*????????????????
*str??????????????  val??????????
*
*????????
*????????????????????????                ????true
*????????????????????????????????????????????true
*????????????????                        ????false       ????????????????????????????????????
*/
function checkDoubleMaxValue(str,val)
{
    //????????????????????
    if(str == "")
        return true;
    if(typeof(val) != "string")
        val = val + "";
    if(checkIsDouble(str) == true)
    {
        if(parseFloat(str)<=parseFloat(val))
            return true;
        else
            return false;
    }
    else
        return false;
}//~~~
/**
*??????????????????????
*str??????????????
*
*????????
*????????????????????????????true
*????????????            ????true
*????????????            ????false               ????????????????????????????????
*/
function isNotNegativeDouble(str)
{
    //????????????????????
    if(str == "")
        return true;
    if(checkIsDouble(str) == true)
    {
        if(parseFloat(str) < 0)
            return false;
        else
            return true;
    }
    else
        return false;
}//~~~
/*--------------------------------- Double ---------------------------------------*/
/********************************** date ******************************************/
/**
*??????????????????????
*????????
*????????????????????????           ????true
*????????????????????????????       ????true
*????????????????                   ????false    ????????????????????????????????????yyyy-MM-dd??
*/
function checkIsValidDate(str)
{
    //????????????????????
    if(str == "")
        return true;
    var pattern = /^((\\d{4})|(\\d{2}))-(\\d{1,2})-(\\d{1,2})$/g;
    if(!pattern.test(str))
        return false;
    var arrDate = str.split("-");
    if(parseInt(arrDate[0],10) < 100)
        arrDate[0] = 2000 + parseInt(arrDate[0],10) + "";
    var date =  new Date(arrDate[0],(parseInt(arrDate[1],10) -1)+"",arrDate[2]);
    if(date.getYear() == arrDate[0]
       && date.getMonth() == (parseInt(arrDate[1],10) -1)+""
       && date.getDate() == arrDate[2])
        return true;
    else
        return false;
}//~~~
/**
*??????????????????
*????????
*????????????????????????????????,          ????true
*????????????????????????????????????????   ????true
*??????????????????????????                 ????false    ?????????????? ??????????????????????????
*/
function checkDateEarlier(strStart,strEnd)
{
    //if(checkIsValidDate(strStart) == false || checkIsValidDate(strEnd) == false)
      //  return false;
    //??????????????????????????????
    if (( strStart == "" ) || ( strEnd == "" ))
        return true;
    var arr1 = strStart.split("-");
    var arr2 = strEnd.split("-");
    var date1 = new Date(arr1[0],parseInt(arr1[1].replace(/^0/,""),10) - 1,arr1[2]);
    var date2 = new Date(arr2[0],parseInt(arr2[1].replace(/^0/,""),10) - 1,arr2[2]);
    if(arr1[1].length == 1)
        arr1[1] = "0" + arr1[1];
    if(arr1[2].length == 1)
        arr1[2] = "0" + arr1[2];
    if(arr2[1].length == 1)
        arr2[1] = "0" + arr2[1];
    if(arr2[2].length == 1)
        arr2[2]="0" + arr2[2];
    var d1 = arr1[0] + arr1[1] + arr1[2];
    var d2 = arr2[0] + arr2[1] + arr2[2];
    if(parseInt(d1,10) > parseInt(d2,10))
       return false;
    else
       return true;
}//~~~
/*--------------------------------- date -----------------------------------------*/
/********************************** email *****************************************/
/**
*????????????????email??
*????????
*????????????????????????           ????true
*??????????email??????????????      ????true
*????email????????                  ????false    ??????????????Email???????????_??
*/
function checkEmail(str)
{
    //????????????????????
    if(str == "")
        return true;
    var pattern = /\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/;
    if (pattern.test(str))
        return true;
    else
        return false;
}//~~~
/*--------------------------------- email ----------------------------------------*/
/********************************** IDNo *****************************************/
/**
*??????????????????????????
*????????
*????????????????????????           ????true
*??????????IDno??????????????      ????true
*????IDno????????                  ????false  
*/
function checkIDNo(str)
{
    //????????????????????
    if(str == "")
        return true;
    var pattern = /(^\d{15}$)|(^\d{18}$)/; 
    if (pattern.test(str))
        return true;
    else
        return false;
}//~~~
/*--------------------------------- IDNo ----------------------------------------*/
/********************************** PostCode *****************************************/
/**
*????????????????????????
*????????
*????????????????????????           ????true
*??????????PostCode??????????????   ????true
*????PostCode????????               ????false  
*/
function checkPostCode(str)
{
    //????????????????????
    if(str == "")
        return true;
    var pattern = /^\d{6}$/; 
    if (pattern.test(str))
        return true;
    else
        return false;
}//~~~
/*--------------------------------- PostCode ----------------------------------------*/
/********************************** Telephone *****************************************/
/**
*????????????????????????
*????????
*????????????????????????           ????true
*??????????Telephone??????????????  ????true
*????Telephone????????              ????false  
*/
function checkTelephone(str)
{
    //????????????????????
    if(str == "")
        return true;
    var pattern = /(^0\d{2,3}\-\d{7,8}$)|(^0\d{9,11}$)/; 
    if (pattern.test(str))
        return true;
    else
        return false;
}//~~~
/*--------------------------------- Telephone ----------------------------------------*/  
/********************************** Mobile *****************************************/
/**
*????????????????????????
*????????
*????????????????????????           ????true
*??????????Mobile??????????????     ????true
*????Mobile????????                 ????false  
*/
function checkMobile(str)
{
    //????????????????????
    if(str == "")
        return true;
    var pattern = /(^0?13\d{9}$)|(^0?15[8,9]\d{8}$)/; 
    if (pattern.test(str))
        return true;
    else
        return false;
}//~~~
/*--------------------------------- Mobile ----------------------------------------*/ 
/********************************** TelMobile *****************************************/
/**
*??????????????????????????????????
*????????
*????????????????????????           ????true
*??????????Mobile??????????????     ????true
*????Mobile????????                 ????false  
*/
function checkTelMobile(str)
{
    //????????????????????
    if(str == "")
        return true;
    var pattern = /(^0\d{2,3}\-\d{7,8}$)|(\d{7,8}$)|(^0?15[8,9]\d{8}$)|(^0?13\d{9}$)|(^0?15[8,9]\d{8}$)/; 
    if (pattern.test(str))
        return true;
    else
        return false;
}//~~~
/*--------------------------------- TelMobile ----------------------------------------*/    
/********************************** chinese ***************************************/
/**
*????????????????????
*????????
*????????????????????????           ????true
*??????????????????????????         ????true
*??????????????????             ????false    ??????????????????????????
*/
function checkIsChinese(str)
{
    //????????????????????
    if (str == "")
        return false;
    var pattern = /[\u4e00-\u9fa5]/;
    if (pattern.test(str))
        return true;
    else
        return false;
}//~~~
/**
* ??????????????????????????????????
*/
String.prototype.realLength = function()
{
  return this.replace(/[^\\x00-\\xff]/g,"**").length;
}
/*--------------------------------- chinese --------------------------------------*/
/********************************** mask ***************************************/
/**
*??????????????????????????????????
*str ????????????  pat ??????????????????
*????????
*????????????????????????           ????true
*????????????????????????           ????true
*????????????????                   ????false    ??????????????????????***????
*/
function checkMask(str,pat)
{
    //????????????????????
    if (str == "")
        return true;
    var pattern = new RegExp(pat,"gi")
    if (pattern.test(str))
        return true;
    else
        return false;
}//~~~
/*--------------------------------- mask --------------------------------------*/
/********************************** file ***************************************/
/**
* added by LxcJie 2004.6.25
* ????????????????
* oFile??file????????
*/
function getFilePostfix(oFile)
{
    if(oFile == null)
        return null;
    var pattern = /(.*)\\.(.*)$/gi;
    if(typeof(oFile) == "object")
    {
        if(oFile.value == null || oFile.value == "")
            return null;
        var arr = pattern.exec(oFile.value);
        return RegExp.$2;
    }
    else if(typeof(oFile) == "string")
    {
        var arr = pattern.exec(oFile);
        return RegExp.$2;
    }
    else
        return null;
}//~~~
/*--------------------------------- file --------------------------------------*/
/*
		?????ip?????
		???strIP?ip??
		???????????true,????false?
		*/
		function isIP(strIP){ 
			if (strIP =="") return false;
			var re=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/g  //??IP????????
			if(re.test(strIP))
			{
				if( RegExp.$1 <256 && RegExp.$2<256 && RegExp.$3<256 && RegExp.$4<256) return true;
			}
				return false; 
		} 